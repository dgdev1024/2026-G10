# Code Style Guide: G10 Workspace

Below is a specification for the code style to be followed by all projects in
the `G10` Workspace. Adhering to these guidelines will help maintain easy
readability and consistency across the codebase.

## General Principles

- **Readability**: Code should be easy to read and understand. Use clear
  variable names, functions, and classes that convey their purpose.
- **Consistency**: Follow the same conventions throughout the codebase to
  ensure uniformity.
- **Simplicity**: Avoid unnecessary complexity. Write code that is straightforward
  and easy to maintain.

## Coding Conventions

- Use the latest C++ standards (minimum C++17).
- Prefer `auto` for type inference where the type is obvious from the context.
- Use `nullptr` instead of `NULL` or `0` for pointer initialization.
- Prefer range-based for loops over traditional for loops when iterating over
  collections.
- Use smart pointers (`std::unique_ptr`, `std::shared_ptr`) for dynamic memory
  management instead of raw pointers.
- Use `constexpr` for compile-time constants and functions where applicable.
- Use `override` and `final` keywords for virtual functions to improve code
  clarity and safety.

## Naming Conventions

- Use `snake_case` for all of the following:
    - Namespaces (`namespace g10`, `namespace g10_asm`)
    - Classes and Structs (`class my_class`, `struct my_struct`)
    - Enums (`enum my_enum`, `enum class my_enum_class`)
    - Strongly-typed Enum Values (`color::red`, `status::not_found`)
    - Functions and Methods (`auto my_function () -> void`)
    - Function-style Macros (`#define my_macro(x) ((x) + 1)`)
    - Variables (`std::int32_t the_answer = 42;`)
- Use `SCREAMING_SNAKE_CASE` for:
    - Constants (`const auto MAX_SIZE = 100;`, `constexpr auto PI = 3.14;`)
    - Macro Constants (`#define MAX_BUFFER_SIZE 256`)

## Formatting Guidelines

- **Indentation**: Use 4 spaces for indentation. Do not use tabs.
    - Indent all code blocks within braces, unless otherwise specified.
- **Line Length**: Keep line length at or around 80 characters, give or take.
    Break long lines appropriately.
- **Braces**: Use Allman style for braces:
    ```cpp
    if (condition)
    {
        // code block
    }
    else
    {
        // code block
    }
    ```
    - For short blocks, braces are still required, but may be placed on the same
        line:
        ```cpp
        if (condition)
            { /* code block */ }
        else
            { /* code block */ }
        ```
- **Spaces**:
    - Place a space after keywords like `if`, `for`, `while`, `switch`, etc.:
        ```cpp
        if (condition)
        for (int i = 0; i < n; ++i)
        ```
    - Place spaces around operators:
        ```cpp
        a + b
        x == y
        ```
    - In function declarations and definitions (but not calls), place a space
        between the function name and the opening parenthesis:
        ```cpp
        auto my_function (int param) -> void
        my_function(42); // no space in calls
        ```
    - In template declarations, place a space after the opening angle bracket and
        before the closing angle bracket:
        ```cpp
        template <typename T>
        ```
- **Comments**:
    - Use `//` for single-line comments.
    - Use `/* ... */` for multi-line comments.
    - Write comments that explain the "why" behind the code, not the "what".
    - Keep comments up to date with code changes.
- **Documentation Comments**:
    - Use Doxygen-style comments for documenting classes, functions, and methods.
        Format similarly to the example below:
        ```cpp
        /**
         * @brief   A brief description of the function.
         *
         * A more detailed description of the function, its parameters,
         * return values, and any other relevant information.
         *
         * @tparam  T       Describes a template parameter, if applicable.
         *
         * @param   param1  Describes the first parameter.
         * @param   param2  Describes the second parameter.
         *
         * @return  Describes the return value.
         *
         * @note    Any additional notes about the function.
         * @note    Additional note lines can be added as needed.
         *
         * @warning Any warnings, if necessary, about the function's usage.
         */
        template <typename T>
        auto my_function (int param1, double param2) -> bool;
        ```
    - Document source files with a file-level comment at the top of the file:
        ```cpp
        /**
         * @file    my_file.cpp
         * @author  Your Name <your@email.com>
         * @date    YYYY-MM-DD
         *
         * @brief   A brief description of the file's purpose.
         *
         * A more detailed description of the file, its contents, and any
         * relevant information.
         */
        ```
- **Blank Lines**: Use blank lines to separate logical sections of code for
    better readability.
- **File Organization**:
    - Include necessary headers at the top of the file:
        - Standard library headers, first
        - Third-party library headers, second
        - Project-specific headers, last
    - Use `#pragma once` to prevent multiple inclusions of header files.
- **Code Organization**:
    - Use comments as section dividers to group constants/enums, unions/structs,
        classes, functions, and methods:
        ```cpp
        /* Public Includes ****************************************************/

        // Includes go here

        /* Public Constants and Enumerations **********************************/

        namespace g10
        {
            // Constants first, strongly-typed enums second, weakly-typed enums 
            // last
        }

        /* Public Unions and Structs ******************************************/

        namespace g10
        {
            // Unions first, structs second
        }

        /* Public Classes *****************************************************/

        namespace g10
        {
            class my_class final
            {
                // Ordering of scopes:
                // - Friend classes (if any) first
                // - Public second
                // - Protected third
                // - Private last

            public: /* Public Methods *****************************************/

                // - Constructor(s) first
                // - Destructor second
                // - Public static methods third
                // - Public pure virtual methods fourth
                // - Public non-pure virtual methods fifth
                // - Public non-virtual methods sixth
                // - Inline getter/setter methods last

            protected: /* Protected Methods ***********************************/

                // - Same order as `Public Methods`

            private: /* Private Methods ***************************************/

                // - Same order as `Public Methods`

            private: /* Private Methods - Specific Grouping *******************/

                // `Public Methods` and `Private Methods` can be further grouped
                // into specific functionality sections using additional comments
                // as needed.

            protected: /* Protected Members ***********************************/

                // Member variables go here
                // - Static members first, prefixed with `s_`
                // - Instance members second, prefixed with `m_`

            private: /* Private Members ***************************************/

                // Member variables go here
                // - Same order as `Protected Members`

            };
        }
        ```
    - Implementation files follow a similar structure and ordering as header
        files, with the addition of function and method definitions:
        ```cpp
        /* Private Includes ***************************************************/

        // Includes go here

        /* Private Constants and Enumerations *********************************/

        namespace g10
        {
            // Same order as in header files
        }

        /* Private Unions and Structs *****************************************/

        namespace g10
        {
            // Same order as in header files
        }

        /* Private Static Functions *******************************************/

        namespace g10
        {
            // Static functions go here
        }

        /* Public Methods *****************************************************/

        namespace g10
        {
            // Function and method definitions go here, in the same order as in
            // the header files
        }

        /* Private Methods ****************************************************/

        namespace g10
        {
            // Private function and method definitions go here, in the same order
            // as in the header files
        }

        /* Private Methods - Specific Grouping ********************************/

        namespace g10
        {
            // Grouped private function and method definitions go here, in the
            // same order as in the header files
        }
        ```
    
## Conclusion

By following this code style guide, we can ensure that our codebase remains
clean, consistent, and easy to work with for all team members. Regular code
reviews should help enforce these standards.
