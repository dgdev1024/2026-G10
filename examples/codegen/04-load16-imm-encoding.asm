; Test 04: 16-Bit Load Immediate Encoding
; Tests encoding of 16-bit load immediate instructions.
; Format: 0x20X0 LD WX, IMM16 (4 bytes: opcode + imm16 little-endian)

.org 0x2000

; Test all W registers with immediate values
test_ld_w_imm16:
    ld w0, 0x0000               ; 0x2000 0x00 0x00
    ld w1, 0x0101               ; 0x2010 0x01 0x01
    ld w2, 0x0202               ; 0x2020 0x02 0x02
    ld w3, 0x0303               ; 0x2030 0x03 0x03
    ld w4, 0x0404               ; 0x2040 0x04 0x04
    ld w5, 0x0505               ; 0x2050 0x05 0x05
    ld w6, 0x0606               ; 0x2060 0x06 0x06
    ld w7, 0x0707               ; 0x2070 0x07 0x07
    ld w8, 0x0808               ; 0x2080 0x08 0x08
    ld w9, 0x0909               ; 0x2090 0x09 0x09
    ld w10, 0x0A0A              ; 0x20A0 0x0A 0x0A
    ld w11, 0x0B0B              ; 0x20B0 0x0B 0x0B
    ld w12, 0x0C0C              ; 0x20C0 0x0C 0x0C
    ld w13, 0x0D0D              ; 0x20D0 0x0D 0x0D
    ld w14, 0x0E0E              ; 0x20E0 0x0E 0x0E
    ld w15, 0x0F0F              ; 0x20F0 0x0F 0x0F

; Test little-endian byte order
test_ld_w_endianness:
    ld w0, 0x1234               ; Should emit: 0x2000 0x34 0x12 (little-endian)
    ld w0, 0xABCD               ; Should emit: 0x2000 0xCD 0xAB
    ld w0, 0xFF00               ; Should emit: 0x2000 0x00 0xFF
    ld w0, 0x00FF               ; Should emit: 0x2000 0xFF 0x00

; Test boundary values
test_ld_w_boundaries:
    ld w0, 0                    ; Minimum
    ld w0, 32767                ; 0x7FFF - max positive signed
    ld w0, 32768                ; 0x8000 - min negative signed
    ld w0, 65535                ; 0xFFFF - maximum
